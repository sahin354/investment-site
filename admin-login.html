<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Login - Adani Corporation</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body class="auth-page-background">
    <main class="auth-container">
        <div class="auth-card">
            <h2>Admin Login</h2>
            <form id="adminLoginForm">
                <div class="input-group">
                    <label for="adminEmail">Admin Email</label>
                    <input type="email" id="adminEmail" name="adminEmail" placeholder="admin@example.com" required>
                </div>
                <div class="input-group">
                    <label for="adminPassword">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="adminPassword" name="adminPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        <span id="toggleAdminPassword" class="password-toggle-icon">üëÅÔ∏è</span>
                    </div>
                </div>
                <button type="submit" class="submit-btn">Login as Admin</button>
            </form>
            <p class="auth-switch">
                <a href="login.html">‚Üê Back to User Login</a>
            </p>
        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="firebaseConfig.js"></script>
    <script>
        // Admin login functionality
        document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Check if user is admin
                    const adminDoc = firebase.firestore().collection('admins').doc(userCredential.user.uid);
                    return adminDoc.get();
                })
                .then((doc) => {
                    if (doc.exists) {
                        window.location.href = 'admin.html';
                    } else {
                        alert('Access denied. Admin privileges required.');
                        firebase.auth().signOut();
                    }
                })
                .catch((error) => {
                    console.error('Login error:', error);
                    alert('Login failed: ' + error.message);
                });
        });

        // Toggle password visibility
        document.getElementById('toggleAdminPassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('adminPassword');
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üîí';
        });
    </script>
</body>
                          </html>
