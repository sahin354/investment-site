<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adani Corporation - Refer & Earn</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="sidebarOverlay" class="sidebar-overlay"></div>
  <aside id="sideMenu" class="side-menu">
      <div class="sidebar-header"><div id="sidebarId">Loading...</div><div id="sidebarVIP">...</div></div>
      <div class="sidebar-actions">
        <button class="sidebar-btn"><span>üßë‚Äçüíº</span> Customer Support</button>
        <button class="sidebar-btn"><span>üí¨</span> Telegram Channel</button>
        <button class="sidebar-btn"><span>‚öôÔ∏è</span> Settings</button>
      </div>
      <span id="closeBtn" class="close-btn">&times;</span>
  </aside>
  <header class="top-bar">
    <div id="menuBtn" class="menu-btn"><span></span><span></span><span></span></div>
    Refer & Earn
    <div class="my-earnings-btn" id="myEarningsBtn">My Earnings</div>
  </header>
  <main class="refer-page-container">
    <!-- Earnings Dashboard -->
    <div class="card earnings-dashboard">
      <div class="earnings-container">
        <div class="earnings-box">
          <div class="earnings-label">Total Reward</div>
          <div class="earnings-value" id="total-reward">‚Çπ0.00</div>
        </div>
        <div class="earnings-box">
          <div class="earnings-label">Available to Redeem</div>
          <div class="earnings-value" id="available-reward">‚Çπ0.00</div>
        </div>
        <div class="earnings-box">
          <div class="earnings-label">Locked Reward</div>
          <div class="earnings-value" id="locked-reward">‚Çπ0.00</div>
        </div>
      </div>
      <button class="submit-btn" id="redeem-btn">Redeem Reward</button>
    </div>

    <!-- Referral Link Card -->
    <div class="card refer-main-card">
      <h2>Invite Friends, Earn Rewards!</h2>
      <p>Share your unique link with friends to earn commission rewards.</p>
      <div class="refer-link-box">
        <span id="referralLink">Loading your link...</span>
        <button id="copyLinkBtn" title="Copy to clipboard"><span>Copy</span></button>
      </div>
      <div class="bonus-info">
        <p><strong>Referral Bonus Structure</strong></p>
        <div class="bonus-levels">
          <div class="bonus-level">
            <div class="bonus-percent">20%</div>
            <div class="bonus-label">1st Level</div>
          </div>
          <div class="bonus-level">
            <div class="bonus-percent">8%</div>
            <div class="bonus-label">2nd Level</div>
          </div>
          <div class="bonus-level">
            <div class="bonus-percent">1%</div>
            <div class="bonus-label">3rd Level</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Commission Levels -->
    <div class="card commission-card">
        <h3>Commission Levels</h3>
        <div class="levels-container">
            <div class="level-display"><span class="level-title">Level 1</span><span class="level-percent">20%</span></div>
            <div class="level-display"><span class="level-title">Level 2</span><span class="level-percent">8%</span></div>
            <div class="level-display"><span class="level-title">Level 3</span><span class="level-percent">1%</span></div>
        </div>
    </div>

    <!-- My Team -->
    <div class="card team-card">
        <h3>My Team</h3>
        <div class="team-tabs">
            <button class="team-tab active" data-level="1">Level 1</button>
            <button class="team-tab" data-level="2">Level 2</button>
            <button class="team-tab" data-level="3">Level 3</button>
        </div>
        <div class="team-content">
            <div class="team-level-content active" id="level1Content">
                <p>Total Members: <strong id="level1Count">0</strong></p>
                <div class="team-list-header">
                    <span>Phone Number</span>
                    <span>Recharge Status</span>
                </div>
                <div class="team-list-container" id="level1List"></div>
            </div>
            <div class="team-level-content" id="level2Content">
                <p>Total Members: <strong id="level2Count">0</strong></p>
                <div class="team-list-container" id="level2List"></div>
            </div>
            <div class="team-level-content" id="level3Content">
                <p>Total Members: <strong id="level3Count">0</strong></p>
                <div class="team-list-container" id="level3List"></div>
            </div>
        </div>
    </div>
  </main>

  <!-- Modals -->
  <div class="modal-overlay" id="earningsModal">
    <div class="modal-content">
      <h3>My Earnings</h3>
      <div class="earnings-stats">
        <div class="earning-stat">
          <span class="stat-label">Total Referrals:</span>
          <span class="stat-value" id="totalReferrals">0</span>
        </div>
        <div class="earning-stat">
          <span class="stat-label">Total Earnings:</span>
          <span class="stat-value" id="totalEarnings">‚Çπ0.00</span>
        </div>
        <div class="earning-stat">
          <span class="stat-label">Current Bonus:</span>
          <span class="stat-value" id="currentBonus">‚Çπ0.00</span>
        </div>
        <div class="earning-stat">
          <span class="stat-label">Available Now:</span>
          <span class="stat-value" id="availableNow">‚Çπ0.00</span>
        </div>
      </div>
      <button class="submit-btn" id="closeEarningsModal">Close</button>
    </div>
  </div>

  <div class="modal-overlay" id="redeemModal">
    <div class="modal-content">
      <h3>Redeem Reward</h3>
      <p>Are you sure you want to redeem <strong id="redeemAmount">‚Çπ0.00</strong> to your main balance?</p>
      <div class="modal-buttons">
        <button class="modal-btn secondary" id="cancelRedeem">Cancel</button>
        <button class="modal-btn primary" id="confirmRedeem">Confirm</button>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="successModal">
    <div class="modal-content">
      <h3>Success!</h3>
      <p id="successMessage">Your reward has been successfully redeemed!</p>
      <button class="submit-btn" id="closeSuccessModal">OK</button>
    </div>
  </div>

  <div class="bottom-nav-spacer"></div>
  <footer class="bottom-nav">
    <a href="index.html">Home</a><a href="recharge.html">Recharge</a><a href="refer.html" class="active">Refer</a><a href="mine.html">Mine</a>
  </footer>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="firebaseConfig.js"></script>
  <script src="common.js"></script>
  <script src="script-refer.js"></script>
</body>
        </html>
